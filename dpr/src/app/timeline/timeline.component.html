<app-skill-tooltip [hoveredSkill]="hoveredTooltipSkill" *ngIf="initialDragIndex == undefined" [element]="hoveredElement"
    [opacity]="hoveredOpacity">
</app-skill-tooltip>

<div class="header">
    <img src="/assets/headerframe-left.png" class="left" />
    <img src="/assets/headerframe-right.png" class="right" />
    <button (click)="processTime()">{{currentTime}}/{{timeLength}}</button>
</div>
<div class="scroll-container">
    <div class="timeline-scroll" appHorizontalScroll>
        <table class="timeline" [class.dragging]="initialDragIndex != undefined"
            [class.placing]="selectedSkill != undefined" (window:keydown.delete)="deleteSkills()" cdkDropListGroup>
            <tr *ngFor="let row of this.skillSlots; index as rowIndex">
                <td class="slot" type="button" *ngFor="let skill of row; index as slotIndex"
                    (click)="clickSlot(slotIndex, rowIndex, $event)" draggable="true"
                    (dragstart)="onDragStart(slotIndex, rowIndex, $event)"
                    (dragover)="onDragOver(slotIndex, rowIndex, $event)" (dragend)="onDragEnd($event)"
                    [class.time]="currentTime == slotIndex" [class.selected]="selectedSlots[rowIndex][slotIndex]">
                    <div class="select-beam"></div>
                    <div [ngStyle]="getTransformation(slotIndex, rowIndex)" *ngIf="skill != undefined" class="icon"
                        (mouseover)="mouseoverSlot($event, skill)" (mouseout)="mouseoutSlot($event, skill)">
                        <img src="/assets/{{skill.icon}}" />
                    </div>
                    <div *ngIf="numberSelected > 1" class="drag-preview">
                        {{ numberSelected }}
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div class="scroll-border"></div>
</div>